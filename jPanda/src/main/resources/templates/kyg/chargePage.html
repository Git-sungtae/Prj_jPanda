<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="js/jquery.js"></script>
<style type="text/css">
		
	.navigation-menu ul {
	  padding: 10px;
	  margin-left: 15%;
	  margin-right: 15%;
	  margin-bottom: 20px;
	  font-weight: bold;
	}
	.navigation-menu ul {   
	    padding: 0;
	    overflow: hidden;
	    background-color: #4B4B4B;
	    text-align: center;
	}
	.navigation-menu li a {
	    display: inline-block;
	    color: white;
	    text-align: center;
	    padding: 10px 20px;
	    text-decoration: none;
	}
	
	li a:hover {
	    text-decoration: underline;
	}
	
	#navigation ul
	{
		font-size: 1.2em;
	}
	#navigation ul li
	{
	    display: inline;
		color:white;
	}
	#navigation li:not(:first-child):before {
	    content: " | ";
	}
	
	
	#container {
		width: 960px;
		margin: 0 auto;
	}
	
	#container * {
	  background-color: gray;
	}
	
	
	#contents {
		border : 1px solid;
		width: 490px;
		float: left;
		margin-left: 15%;
		margin-bottom: 20px;
		
	}
	#right-sidebar {
	border : 1px solid;
		width: 150px;
		float: right;
		margin-bottom: 20px;
	}	
	
	
</style>
<script type="text/javascript">
	 
	function couponNoDupchk(){
		console.log(couponNoDupchk);
		var couponNo = document.getElementById("couponNo").value;
		// alert("vDeptno -> " + vDeptno);
		// 행동강령 : Ajax로 부서번호 보내고 부서명 받음
		//var couponNo = $('#couponNo').val();
		
		$.ajax({
			url:"<%=context%>/chargePage",		
			data: {couponNo : couponNo},
			dataType:'json',
			success:function(data){	 
				if(data === true){
					out.print("사용가능")
				} else{
					out.print("사용 불가능")
				}
			}
			
		});
		
	}

	
	

</script>
<script type="text/javascript">
	function couponNoChargemoneyNull(){
		alert("입력해 영광이형");
		if($('#chargeMoney').val() === null || $('#chargeMoney').val() === '') {	// === 는 변수 타입과 값이 똑같아야한다
		alert("입력해 영광이형");
		return false;
	} 
	return true;
	
	}

</script>
				

</head>
<body>
	
	<div class="navigation-menu">
		<nav id="navigation">
		  <ul>
		    <li><a href="/sell">재능판매</a></li>
		    <li><a href="/pruchase">재능구매</a></li>
		    <li><a href="/trade">거래관리</a></li>
		    <li><a href="/charge">충전/내역</a></li>
		    <li><a href="/myPage">마이페이지</a></li>
		  </ul>
		</nav>
	</div>
	
	<div id="container">

		<div id="contents">
			<form action="/chargePage" method="post" onsubmit="return couponNoChargemoneyNull()">
				쿠폰 입력 :	<input type="text" id = "couponNo" name="couponNo">  
				<input type="button" value="중복확인" onclick="couponNoDupChk()">
				<p/>
				충전 금액 : <input type="text" id = "chargeMoney" name="chargeMoney"><p/>
				<!-- 아래 submit은 추후 결제확인으로 대체예정, 테스트용 버튼 -->
				<input type="submit" value="확인">
				
				

		<!-- 	<div>
			 	<th th:if="${chargeFailMsg != null}">
			 		 <td th:text="${chargeFailMsg}"></td>
			 	</th>
			 </div> -->
			<table>
			  <!-- <tr th:if="${chargeFailMsg != null and (param.couponNo == null or param.chargeMoney == null)}"> -->
			  <tr th:if="${chargeFailMsg != null}">
			    <td th:text="${chargeFailMsg}"></td>
			  </tr>
			</table>
			
			</form>
			
			
			
			<!-- 
			<form action="/charge" method="post">
				쿠폰 입력 : <input type="text" name="couponNo"><p />
				충전 금액 : <input type="text" name="pay"><p />
				<input type="submit" value="확인"><p />
			</form>
			 -->
		</div>
		<div id="right-sidebar">
			<h2>사이드바 Right</h2>
			<ul>
			    <li>항목1</li>
			    <li>항목2</li>
			    <li>항목3</li>
			    <li>항목4</li>
		    </ul>
		</div>   
	</div>
	
	
</body>
</html>