<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>재능 판다</title>
<style type="text/css">
/*GLOBALS*/
*{margin:0; padding:0; list-style:none;}
a{text-decoration:none; color:#666;}
a:hover{color:#1bc1a3;}

.slider-wrap{
  	width:260px;
  	height:330px;
  	position:relative;
  	overflow:hidden;
}

.slider-wrap ul.slider{
  	position:absolute;
  	top:0;
  	left:0;   
}

.slider-wrap ul.slider li{
  	float:left;
  	position:relative;
  	width:260px;
  	height:330px; 
}

.slider-wrap ul.slider li > div{
  	top:20px;
  	left:35px;  
}

.slider-wrap ul.slider li > h3{
  	font-size:16px;
  	text-transform:uppercase; 
}

.slider-wrap ul.slider li > div span{
  	font-family: Neucha, Arial, sans serif;
  	font-size:21px;
}

.slider-wrap ul.slider li > img{
  	display:block;
  	width: 260px;
  	height: 192px;
}

/*ANIMATION*/
.slider-wrap ul{
  	-webkit-transition: all 0.3s cubic-bezier(1,.01,.32,1);
  	-moz-transition: all 0.3s cubic-bezier(1,.01,.32,1);
  	-o-transition: all 0.3s cubic-bezier(1,.01,.32,1);
  	-ms-transition: all 0.3s cubic-bezier(1,.01,.32,1);
  	transition: all 0.3s cubic-bezier(1,.01,.32,1); 
}

.slide{
	display: inline-block;
	border: 1px solid #EAEAEA;
	margin: 20px;
}
.title{
	font-size: 17px;
	font-weight: bold; 
}
.random-talent {
	border: 1px solid #EAEAEA;
	margin-top: 30px;
}

.random-talent > img {
	display: block;
  	width: 160px;
  	height: 120px;
  	vertical-align: middle;
}

.random-talent > img,
.random-talent > div {
  	display: inline-block;
  	vertical-align: middle;
}

.random-talent > div {
  	vertical-align: middle;
  	margin-left: 10px;
  	height: 100px;
  	width: 800px;
}

.container	{
	width: 1000px;
  	margin: 0 auto;
}
#talent-slide {
	text-align: center;
	border: 1px solid #EAEAEA;
	margin-bottom: 50px;
}
h4 {
	margin: 10px;
	text-align: left;
}

.navbar {
  	display: flex; /* flexbox로 설정 */
  	justify-content: space-around; /* 링크 간 간격 일정하게 유지 */
  	align-items: center; /* 링크 수직 가운데 정렬 */
  	margin: 0 auto;
  	background-color: #333; /* 배경색 설정 */
  	height: 50px; /* 높이 설정 */
  	width: 1000px;
}

.navbar a {
  	color: white; /* 링크 글씨 색상 설정 */
  	text-decoration: none; /* 링크 밑줄 제거 */
  	font-size: 15px; /* 글씨 크기 설정 */
  	font-weight: bold; /* 글씨 굵기 설정 */
  	padding: 15px 20px; /* 링크 좌우 여백 설정 */
}

.bamboo-score {
	width: 15px;
	height: 15px;
}

.review-div {
	display: flex;
  	align-items: center;
}

.other {
  	display: flex;
  	align-items: center;
  	justify-content: space-between;
}
.slide-other {
  	display: flex;
  	align-items: center;
  	justify-content: space-between;
  	margin: 0 10px;
}

.review {
	font-weight: bold;
	color: gray;
	font-size: 13px;
}
.item-name{
	font-size: 13px;	
}
p {
	padding: 1px;
}
.summary {
	height: 45px;
	width: 500px;
}
.slide-summary {
	margin: 10px;
	width: 240px;
	height: 65px;
	text-align: left;
	overflow: hidden;
	margin-bottom: 30px;
}
.login-check{
	float: right;
	margin-right: 50px;
	font-size: 20px;
}
</style>
</head>
<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
<link href='https://fonts.googleapis.com/css?family=Anton' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Neucha' rel='stylesheet' type='text/css'>
<script src="/js/jquery.js"></script>
<body>
	<div class="navbar">
		<a href="/talent/write-form">재능 등록</a>
  		<a href="/board">판매게시판</a>
  		<a href="/trade">거래관리</a>
  		<a href="/charge/">충전/내역</a>
  		<a href="/mypage">마이페이지</a>
  		<a href="/talent/notice">공지사항</a>
	</div>
	<div id="login-out">
	</div>
	
	<div class="container">
	<form action="/talent/update-form">
	<div>
	</div>
	
	<div id="talent-slide">
	<div id="bestSellerTalent" class="slide">
	<h4>최다 판매</h4>
      <div id="slider-wrap1" class="slider-wrap">
          <ul id="slider1" class="slider" >
             <li class="talents" th:value="${talent.talentNo}" th:each="talent : ${bestSellerTalent}">
				<img th:src="@{${talent.mainImg}}">
                    <p class="slide-summary" th:text="${talent.summary}"></p>
                    <div class="bamboo">
                    	<p class="price" th:text="${talent.saleBamboo}">
                    </div>
		            <div class="slide-other">
			            <p class="item-name" th:text="${talent.item} + ' | ' + ${talent.name}"></p>
			            <div class="review-div">
				            <img class="bamboo-score" src="../image/bambooScore.jpg">
				            <p class="review" th:text="${talent.reviewAvgScore} + ' | (' + ${talent.reviewCount} + ')'"></p>
			            </div>
		            </div>
             </li>
              </ul>
      </div>
      </div>
	<div id="topRatedTalent" class="slide">
	<h4>최고 평점</h4>
      <div id="slider-wrap2" class="slider-wrap">
          <ul id="slider2" class="slider" >
             <li class="talents" th:value="${talent.talentNo}" th:each="talent : ${topRatedTalent}">
				<img th:src="${talent.mainImg}">
                   <p class="slide-summary" th:text="${talent.summary}"></p>
		            <div class="slide-other">
			            <p class="item-name" th:text="${talent.item} + ' | ' + ${talent.name}"></p>
			            <div class="review-div">
				            <img class="bamboo-score" src="../image/bambooScore.jpg">
				            <p class="review" th:text="${talent.reviewAvgScore} + ' | (' + ${talent.reviewCount} + ')'"></p>
			            </div>
		            </div>
             </li>
              </ul>
      </div>
      </div>
      
	<div id="newTrendTalent" class="slide">
	<h4>최신 트렌드</h4>
      <div id="slider-wrap3" class="slider-wrap">
          <ul id="slider3" class="slider" >
             <li class="talents" th:value="${talent.talentNo}" th:each="talent : ${newTrendTalent}">
				<img th:src="${talent.mainImg}">
                   	<p class="slide-summary" th:text="${talent.summary}"></p>
		            <div class="slide-other">
			            <p class="item-name" th:text="${talent.item} + ' | ' + ${talent.name}"></p>
			            <div class="review-div">
				            <img class="bamboo-score" src="../image/bambooScore.jpg">
				            <p class="review" th:text="${talent.reviewAvgScore} + ' | (' + ${talent.reviewCount} + ')'"></p>
			            </div>
		            </div>
	             </li>
              </ul>
      </div>
      </div>
      </div> <!-- id="talent-slide" -->
	
	<div id="random-talent-div">
	<h5>오늘의 재능</h5>
	<ul>
		<li class="talents random-talent" th:value="${talent.talentNo}" th:each="talent : ${randomTalent}">
			<img th:src="${talent.mainImg}">
		<div>
			<p th:text="${talent.title}" class="title"></p>
			<p th:text="${talent.summary}" class="summary"></p>
            <div class="other">
	            <p class="item-name" th:text="${talent.item} + ' | ' + ${talent.name}"></p>
	            <div class="review-div">
		            <img class="bamboo-score" src="../image/bambooScore.jpg">
		            <p class="review" th:text="${talent.reviewAvgScore} + ' | (' + ${talent.reviewCount} + ')'"></p>
	            </div>
            </div>
		</div>
		</li>
	</ul>
	</div>
	</form>
	</div> <!-- container -->
	<script type="text/javascript">
	var sliderInfo = [
		{
			wrap: "#slider-wrap1",
			pos: 0,
		    autoSlider: null,
		    sliderWidth : 0,
		    totalSlides : 0
		},
		{
		    wrap: "#slider-wrap2",
		    pos: 0,
		    autoSlider: null,
		    sliderWidth : 0,
		    totalSlides : 0
		},
		{
		    wrap: "#slider-wrap3",
		    pos: 0,
		    autoSlider: null,
		    sliderWidth : 0,
		    totalSlides : 0
		}
	];

	$(function(){
	  	sliderInfo.forEach(function(slider) {
			slider.totalSlides = $(slider.wrap + " ul li").length;
	    	slider.sliderWidth = $(slider.wrap + " ul li").width();
	    	$(slider.wrap + " ul").width(slider.totalSlides * slider.sliderWidth);
	    	slider.autoSlider = setInterval(function() {
	    		slideRight(slider);
	    	}, 3000);

			$(slider.wrap).hover(
		      	function() { 
		        	$(this).addClass("active");
		        	clearInterval(slider.autoSlider);
		      	},
		      	function() { 
		        	$(this).removeClass("active");
		        	slider.autoSlider = setInterval(function() {
		          		slideRight(slider);
		        	}, 3000);
		      	}
		    );
	  	});
	});

	function slideRight(slider) {
		slider.pos++;
		if (slider.pos == slider.totalSlides) {
			slider.pos = 0;
		}
		$(slider.wrap + " ul").css("left", -(slider.sliderWidth * slider.pos));
	}
		
	$('.talents').on('click', function(){
		location.href = "/talents/talent/" + $(this).val();	
	});
	</script>
	<script th:inline="javascript">
	$(function(){
		if([[${loginId}]] == "guest"){
			$('#login-out').html('<a class="login-check" href="/login">로그인</a>');
		}else {
			$('#login-out').html('<a class="login-check" href="/logout">로그아웃</a>');
			
		}
	});
	</script>
</body>
</html>